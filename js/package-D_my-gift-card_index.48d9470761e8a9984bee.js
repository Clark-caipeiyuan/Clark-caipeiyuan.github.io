(window.webpackJsonp=window.webpackJsonp||[]).push([[206],{"251":function(e,t,n){"use strict";function extraPathsValue(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t.length>=2?t[1]:null,o=null;"function"==typeof t[t.length-1]&&(o=t[t.length-1]);var i=[],c=void 0,u=[];return"string"==typeof r&&a&&a.props&&a.props["data-paths"]?(i=a.props["data-paths"].split(/[,\.]/gi),c=r):r instanceof Array&&r[0].hasOwnProperty("paths")&&r[0].hasOwnProperty("value")?u=r.map(function(e){var t=e.paths,n=e.value,r=t;return"string"==typeof r&&(r=t.split(/[,\.]/gi)),{"paths":r,"value":n}}):"string"==typeof r?(i=r.split(/[,\.]/gi),c=a,console.log(i,c,103)):r.hasOwnProperty("target")&&r.target["data-paths"]&&void 0!=r.target.value?(i=r.target["data-paths"].split(/[,\.]/gi),c=r.target.value):r.hasOwnProperty("target")&&r.target.dataset&&r.target.dataset.paths?(i=r.target.dataset.paths.split(/[,\.]/gi),c=r.target.value):r instanceof Array&&a instanceof Array&&a[0]&&"function"==typeof a[0].type&&a[0].props&&a[0].props["data-paths"]?(i=a[0].props["data-paths"].split(/[,\.]/gi),c=r):r instanceof Array?(i=r,c=a):a&&a.hasOwnProperty("props")&&a.props.hasOwnProperty("data-paths")&&a.props.hasOwnProperty("value")&&(i=a.props["data-paths"].split(/[,\.]/gi),c=a.props.value),o?o({"paths":i,"value":c,"batchUpdate":u,"raw":t}):{"paths":i,"value":c,"batchUpdate":u}}n.d(t,"a",function(){return extraPathsValue})},"252":function(e,t,n){"use strict";n.d(t,"a",function(){return getActionProxy});function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,a){try{var o=t[r](a),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}var r,a=[(r=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t){var n,r=e.methodName,a=e.target;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if("query"!==r||!a.commonChange){e.next=11;break}return console.log("beginMiddware"),a.commonChange(["main","isLoading"],!0),e.next=5,t();case 5:return n=e.sent,a.commonChange(["main","isLoading"],!1),console.log("end Middware"),e.abrupt("return",n);case 11:return e.abrupt("return",t());case 12:case"end":return e.stop()}},_callee,void 0)})),function loadingM(e,t){return r.apply(this,arguments)})],o=function compose(e){var t,n,r=(t=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(t,n,o){var i,c;return regeneratorRuntime.wrap(function _callee4$(u){for(;;)switch(u.prev=u.next){case 0:return i=t+1,c=r.bind(null,i,n,o),i===a&&(c=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var e;return regeneratorRuntime.wrap(function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o();case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},_callee3,this)}));return function _next(){return e.apply(this,arguments)}}()),u.abrupt("return",e[t](n,c));case 4:case"end":return u.stop()}},_callee4,this)})),function _dispatch(e,n,r){return t.apply(this,arguments)}),a=e.length;return n=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e,t){return regeneratorRuntime.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r(0,e,t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},_callee2,void 0)})),function(e,t){return n.apply(this,arguments)}};function getActionProxy(e){var t={},n=o(a);return function(r){var a=e(r),o=new Proxy(a,{"get":function get(e,r,i){var c=this,u=String(r);return t[u]||"function"!=typeof a[r]||(t[u]=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var s,p;return regeneratorRuntime.wrap(function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:return s=t,e.next=3,n({"methodName":u,"arguments":s,"target":o},function(){return a[r].apply(o,s)});case 3:return p=e.sent,e.abrupt("return",p);case 5:case"end":return e.stop()}},_callee5,c)}))),t[u]?t[u]:Reflect.get(e,r,i)},"set":function set(e,t,n,r){return Reflect.set(e,t,n,r)},"apply":function apply(e,t,n){return Reflect.apply.apply(Reflect,arguments)}});return o}}},"253":function(e,t,n){"use strict";function commonChange(e,t){if(t.paths&&(t.paths=function ensurePath(e){var t=e;return"string"==typeof e?t=e.split("."):t}(t.paths)),t.paths[0]===t.key&&modifyDeep(e,t.paths.splice(1),t.value),t.batchUpdate)for(var n=0,r=t.batchUpdate.length;n<r;n++){var a=t.batchUpdate[n],o=a.paths,i=a.value;o[0]===t.key&&modifyDeep(e,o.splice(1),i)}return e}function modifyDeep(e,t,n){for(var r=e,a=t.length-1,o=0,i=a;o<i;o++)(r=r[t[o]])||console.warn("the obj defined by paths "+t+" is not exist!!");"function"==typeof n?n(r[t[a]]):r[t[a]]=n}function assign(e,t){if(!t)return e;for(var n in t)e[n]=t[n];return e}n.d(t,"b",function(){return commonChange}),n.d(t,"a",function(){return assign})},"2603":function(e,t,n){},"2605":function(e,t,n){},"2607":function(e,t){e.exports="data:image/png;base64,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"},"2801":function(e,t,n){"use strict";n.r(t);var r,a=n(5),o=n(246),i=n(2631),c=n(11),u=n(3),s=(n(475),n(37));n(2603);!function(e){e.commonChange="MyGiftCardMain_commonChange",e.init="MyGiftCardMain_INIT",e.clean="MyGiftCardMain_CLEAN"}(r||(r={}));var p=n(252),l=n(38),f=n(257),d=n(253),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m={"isReady":!1,"cardNo":"","focus":!1,"deleteInput":!1};function main_main(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments[1],n=t.type,a=t.payload;return Object(f.a)(e,function(e){switch(n){case r.commonChange:return d.b(e,h({},a,{"key":"main"}));case r.init:for(var t in e.isReady=!0,a.main)e[t]=a.main[t];return e;case r.clean:for(var o in m)e[o]=m[o];return e}})}var y=n(9),g=n(251),v=n(14);function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,a){try{var o=t[r](a),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}var b=function(e){return{"commonChange":function commonChange(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];e({"type":r.commonChange,"payload":g.a.apply(void 0,arguments)})},"bindCard":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e){return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(e&&""!=e){t.next=3;break}return Object(v.e)({"title":"请输入卡密","icon":"none","duration":2e3}),t.abrupt("return",!1);case 3:this.bindPrepaidCard(e);case 4:case"end":return t.stop()}},_callee,this)}));return function bindCard(t){return e.apply(this,arguments)}}(),"bindPrepaidCard":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e){var t,n,r;return regeneratorRuntime.wrap(function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,y.a.customerBaseController.bindPrepaidCard({"cardPwd":e});case 2:t=a.sent,n=t.accountBalance,r=t.bindBalance,u.a.navigateTo({"url":"/pages/package-D/my-gift-card-success/index?accountBalance="+n+"&bindBalance="+r});case 6:case"end":return a.stop()}},_callee2,this)}));return function bindPrepaidCard(t){return e.apply(this,arguments)}}()}};function actions_asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,a){try{var o=t[r](a),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}var A=function(e){var t={"action":Object(p.a)(b)(e),"init":function(){var n=actions_asyncToGenerator(regeneratorRuntime.mark(function _callee(n){return regeneratorRuntime.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.loadReducer();case 2:e({"type":r.init,"payload":{"main":{"phone":n||"","password":""}}});case 3:case"end":return a.stop()}},_callee,this)}));return function init(e){return n.apply(this,arguments)}}(),"clean":function(){var n=actions_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=!1,!n.t0){n.next=4;break}return n.next=4,t.unloadReducer();case 4:e({"type":r.clean});case 5:case"end":return n.stop()}},_callee2,this)}));return function clean(){return n.apply(this,arguments)}}(),"loadReducer":function(){var e=actions_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:l.d({"myGiftCardMain":main_main});case 1:case"end":return e.stop()}},_callee3,this)}));return function loadReducer(){return e.apply(this,arguments)}}(),"unloadReducer":function(){var e=actions_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:l.b?l.b(["myGiftCardMain"]):console.error("请在redux/store中实现deregister逻辑. ");case 1:case"end":return e.stop()}},_callee4,this)}));return function unloadReducer(){return e.apply(this,arguments)}}()};return{"actions":t}};function store2Props(e){return{"main":e.myGiftCardMain}}var w=n(279),C=n(296),_=n(278),R=(n(2605),n(2607)),P=n.n(R),O=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var E=function(e){function BindForm(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BindForm);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(BindForm.__proto__||Object.getPrototypeOf(BindForm)).call(this,e));return t._changeFocus=function(e){e.length>0?t.props.actions.action.commonChange("main.deleteInput",!0):t.props.actions.action.commonChange("main.deleteInput",!1)},t.state={"cardNo":null},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(BindForm,u["a"].Component),O(BindForm,[{"key":"render","value":function render(){var e=this,t=this.props,n=t.actions.action,r=(t.main,t.main),o=r.deleteInput,c=r.focus,u=(t.mobile,this.state.cardNo);return a.l.createElement(i.a,{"className":"bindGiftCardPage"},a.l.createElement(i.a,{"className":"bindGiftCardContent"},a.l.createElement(i.a,{"className":"logo-box"},a.l.createElement(w.a,{"className":"title"},"请输入市民好生活E卡密码")),a.l.createElement(i.a,{"className":"login-info"},a.l.createElement(i.a,{"className":c?"form-input light":"form-input"},a.l.createElement(C.a,{"className":"int","value":u,"focus":!0,"onFocus":function onFocus(t){e.props.actions.action.commonChange("main.focus",!0),t.detail.value.length>0&&e.props.actions.action.commonChange("main.deleteInput",!0)},"onBlur":function onBlur(){e.props.actions.action.commonChange("main.focus",!1),setTimeout(function(){e.props.actions.action.commonChange("main.deleteInput",!1)},100)},"placeholder":"卡密码不区分大小写","onInput":function onInput(t){e._changeFocus(t.detail.value),e.setState({"cardNo":t.detail.value})}}),o&&a.l.createElement(_.a,{"src":P.a,"className":"deleteIcon","onClick":function onClick(){e.setState({"cardNo":null}),e.props.actions.action.commonChange("main.deleteInput",!1)}}))),a.l.createElement(i.a,{"className":"submit-btn","onClick":function onClick(){var t=e.state.cardNo;n.bindCard(t)}},"绑定")))}}]),BindForm}(),x=E=Object(o.a)([Object(s.b)(store2Props,A)],E),M=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),G=function get(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:get(a,t,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0};A().actions.loadReducer();var I=function(e){function MyGiftCard(){!function my_gift_card_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MyGiftCard);var e=function my_gift_card_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(MyGiftCard.__proto__||Object.getPrototypeOf(MyGiftCard)).apply(this,arguments));return e.config={"navigationBarTitleText":"绑定市民好生活E卡"},e}return function my_gift_card_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(MyGiftCard,u["a"].Component),M(MyGiftCard,[{"key":"componentWillMount","value":function componentWillMount(){0}},{"key":"onShareAppMessage","value":function onShareAppMessage(){return{}}},{"key":"onShareTimeline","value":function onShareTimeline(){}},{"key":"componentDidMount","value":function componentDidMount(){}},{"key":"componentDidShow","value":function componentDidShow(){}},{"key":"componentWillUnmount","value":function componentWillUnmount(){Boolean(Object(c.d)("authInfo:token"))||u.a.navigateTo({"url":"/pages/package-A/login/login/index"}),this.props.actions.clean()}},{"key":"render","value":function render(){var e=this.props,t=(e.actions.action,e.main,this.$router.params.mobile);return a.l.createElement(i.a,{"className":"my-gift-card"},a.l.createElement(x,{"mobile":t}))}},{"key":"componentDidHide","value":function componentDidHide(){G(MyGiftCard.prototype.__proto__||Object.getPrototypeOf(MyGiftCard.prototype),"componentDidHide",this)&&G(MyGiftCard.prototype.__proto__||Object.getPrototypeOf(MyGiftCard.prototype),"componentDidHide",this).call(this)}}]),MyGiftCard}();I=Object(o.a)([Object(s.b)(store2Props,A)],I);t.default=I}}]);