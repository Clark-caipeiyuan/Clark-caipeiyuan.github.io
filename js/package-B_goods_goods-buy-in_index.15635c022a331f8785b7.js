(window.webpackJsonp=window.webpackJsonp||[]).push([[125],{"1845":function(e,t,n){},"1847":function(e,t,n){e.exports=n.p+"static/images/rushing.gif"},"1848":function(e,t,n){},"251":function(e,t,n){"use strict";function extraPathsValue(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],o=t.length>=2?t[1]:null,a=null;"function"==typeof t[t.length-1]&&(a=t[t.length-1]);var i=[],c=void 0,s=[];return"string"==typeof r&&o&&o.props&&o.props["data-paths"]?(i=o.props["data-paths"].split(/[,\.]/gi),c=r):r instanceof Array&&r[0].hasOwnProperty("paths")&&r[0].hasOwnProperty("value")?s=r.map(function(e){var t=e.paths,n=e.value,r=t;return"string"==typeof r&&(r=t.split(/[,\.]/gi)),{"paths":r,"value":n}}):"string"==typeof r?(i=r.split(/[,\.]/gi),c=o,console.log(i,c,103)):r.hasOwnProperty("target")&&r.target["data-paths"]&&void 0!=r.target.value?(i=r.target["data-paths"].split(/[,\.]/gi),c=r.target.value):r.hasOwnProperty("target")&&r.target.dataset&&r.target.dataset.paths?(i=r.target.dataset.paths.split(/[,\.]/gi),c=r.target.value):r instanceof Array&&o instanceof Array&&o[0]&&"function"==typeof o[0].type&&o[0].props&&o[0].props["data-paths"]?(i=o[0].props["data-paths"].split(/[,\.]/gi),c=r):r instanceof Array?(i=r,c=o):o&&o.hasOwnProperty("props")&&o.props.hasOwnProperty("data-paths")&&o.props.hasOwnProperty("value")&&(i=o.props["data-paths"].split(/[,\.]/gi),c=o.props.value),a?a({"paths":i,"value":c,"batchUpdate":s,"raw":t}):{"paths":i,"value":c,"batchUpdate":s}}n.d(t,"a",function(){return extraPathsValue})},"252":function(e,t,n){"use strict";n.d(t,"a",function(){return getActionProxy});function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}var r,o=[(r=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t){var n,r=e.methodName,o=e.target;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if("query"!==r||!o.commonChange){e.next=11;break}return console.log("beginMiddware"),o.commonChange(["main","isLoading"],!0),e.next=5,t();case 5:return n=e.sent,o.commonChange(["main","isLoading"],!1),console.log("end Middware"),e.abrupt("return",n);case 11:return e.abrupt("return",t());case 12:case"end":return e.stop()}},_callee,void 0)})),function loadingM(e,t){return r.apply(this,arguments)})],a=function compose(e){var t,n,r=(t=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(t,n,a){var i,c;return regeneratorRuntime.wrap(function _callee4$(s){for(;;)switch(s.prev=s.next){case 0:return i=t+1,c=r.bind(null,i,n,a),i===o&&(c=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var e;return regeneratorRuntime.wrap(function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a();case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},_callee3,this)}));return function _next(){return e.apply(this,arguments)}}()),s.abrupt("return",e[t](n,c));case 4:case"end":return s.stop()}},_callee4,this)})),function _dispatch(e,n,r){return t.apply(this,arguments)}),o=e.length;return n=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e,t){return regeneratorRuntime.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r(0,e,t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},_callee2,void 0)})),function(e,t){return n.apply(this,arguments)}};function getActionProxy(e){var t={},n=a(o);return function(r){var o=e(r),a=new Proxy(o,{"get":function get(e,r,i){var c=this,s=String(r);return t[s]||"function"!=typeof o[r]||(t[s]=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var u,l;return regeneratorRuntime.wrap(function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:return u=t,e.next=3,n({"methodName":s,"arguments":u,"target":a},function(){return o[r].apply(a,u)});case 3:return l=e.sent,e.abrupt("return",l);case 5:case"end":return e.stop()}},_callee5,c)}))),t[s]?t[s]:Reflect.get(e,r,i)},"set":function set(e,t,n,r){return Reflect.set(e,t,n,r)},"apply":function apply(e,t,n){return Reflect.apply.apply(Reflect,arguments)}});return a}}},"253":function(e,t,n){"use strict";function commonChange(e,t){if(t.paths&&(t.paths=function ensurePath(e){var t=e;return"string"==typeof e?t=e.split("."):t}(t.paths)),t.paths[0]===t.key&&modifyDeep(e,t.paths.splice(1),t.value),t.batchUpdate)for(var n=0,r=t.batchUpdate.length;n<r;n++){var o=t.batchUpdate[n],a=o.paths,i=o.value;a[0]===t.key&&modifyDeep(e,a.splice(1),i)}return e}function modifyDeep(e,t,n){for(var r=e,o=t.length-1,a=0,i=o;a<i;a++)(r=r[t[a]])||console.warn("the obj defined by paths "+t+" is not exist!!");"function"==typeof n?n(r[t[o]]):r[t[o]]=n}function assign(e,t){if(!t)return e;for(var n in t)e[n]=t[n];return e}n.d(t,"b",function(){return commonChange}),n.d(t,"a",function(){return assign})},"262":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return div}),n.d(t,"b",function(){return o});n(266);function decimalLength(e){if(e){var t=e.toString(),n=t.indexOf(".");return-1==n?0:t.substr(n+1).length}}function suffixInteger(e,t){var n=e.toString(),r=decimalLength(e);return n+=Math.pow(10,t-r).toString().substr(1),Number(n.replace(".",""))}var r=function toFixed2(e){"string"!=typeof e&&(e=e.toString());var t=e.split(".");return t[1]?1==t[1].length?t[1]=t[1]+"0":t[1].length>2&&(t[1]=t[1].substring(0,2)):t[1]="00",parseFloat(t.join(".")).toFixed(2)};function div(e,t){var n=decimalLength(e),r=decimalLength(t),o=Math.max(n,r);return suffixInteger(e,o)/suffixInteger(t,o)}var o=function mul(e,t){var n=decimalLength(e),r=decimalLength(t),o=Math.max(n,r);return suffixInteger(e,o)*suffixInteger(t,o)/Math.pow(10,2*o)}},"265":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(5),o=n(2631),a=n(279),i=n(3),c=(n(268),n(262)),s=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var u=function(e){function Price(e){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Price),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Price.__proto__||Object.getPrototypeOf(Price)).call(this,e))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Price,i["a"].Component),s(Price,[{"key":"render","value":function render(){var e=this.props,t=e.price,n=e.fontSizeUnit,i=e.fontSizePrice,s=e.fontSizefixed,u=e.buyPoint,l=e.linePrice,p=e.color,f=Object(c.c)(t||0).split(".");return r.l.createElement(o.a,{"className":"price-style"},u>0?r.l.createElement(a.a,{"className":"price"},u,r.l.createElement(a.a,{"className":"price-point"},"积分")):null,u>0&&Number(t)>0?r.l.createElement(a.a,{"className":"price price-plus"},"+"):null,u>0&&0==Number(t)?null:r.l.createElement(a.a,null,r.l.createElement(a.a,{"className":"unit","style":{"color":p,"fontSize":Number(n)}},"￥"),r.l.createElement(a.a,{"className":"price","style":{"color":p,"fontSize":Number(i)}},f[0]),r.l.createElement(a.a,{"className":"fixed2","style":{"color":p,"fontSize":Number(s)}},".",f[1])),u>0?"":l>0&&r.l.createElement(a.a,{"className":"line-price"},"￥",Object(c.c)(l)))}}]),Price}();u.defaultProps={}},"268":function(e,t,n){},"2787":function(e,t,n){"use strict";n.r(t);var r,o=n(5),a=n(246),i=n(2631),c=n(3),s=n(37);n(1845);!function(e){e.commonChange="GoodsBuyIn_commonChange",e.init="GoodsBuyIn_INIT",e.clean="GoodsBuyIn_CLEAN"}(r||(r={}));var u=n(252),l=n(38),p=n(9),f=n(251),d=n(7);function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}var m=function(e){var t={"commonChange":function commonChange(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];e({"type":r.commonChange,"payload":f.a.apply(void 0,arguments)})},"_getGoodsInfoDetail":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e){var n,r,o,a;return regeneratorRuntime.wrap(function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return n={"flashSaleGoodsId":e},r={"goodImage":"","goodName":"","goodIntro":"","goodPrice":"","goodStaus":"积极抢购中"},i.next=4,p.a.flashSaleController.getFlashSaleInfo(n);case 4:return o=i.sent,i.next=7,p.a.goodsInfoBaseController.detail(o.goodsInfoId);case 7:a=i.sent,r.goodPrice=o.price,r.goodImage=a.goods.goodsImg,r.goodName=a.goodsInfo.goodsInfoName,r.goodIntro=a.goodsInfo.specText,t.commonChange("main.goodsInfo",r);case 13:case"end":return i.stop()}},_callee,this)}));return function _getGoodsInfoDetail(t){return e.apply(this,arguments)}}(),"getFlashSaleGoodsQualifications":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e,t){var n=this;return regeneratorRuntime.wrap(function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:void 0,this.timer=setInterval(_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:if(!d.f.isLogin()){r.next=14;break}return r.prev=1,r.next=4,p.a.flashSaleController.getFlashSaleGoodsQualifications({"flashSaleGoodsId":e,"flashSaleGoodsNum":t});case 4:null!=r.sent.flashSaleGoodsId&&(c.a.redirectTo({"url":"/pages/package-C/order/flash-sale-order-confirm/index"}),clearInterval(n.timer)),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(1),clearInterval(n.timer),setTimeout(function(){c.a.navigateTo({"url":"/pages/package-B/flash-sale/spike-home/index"})},1e3);case 12:r.next=15;break;case 14:clearInterval(n.timer);case 15:case"end":return r.stop()}},_callee2,n,[[1,8]])})),1e3);case 2:case"end":return r.stop()}},_callee3,this)}));return function getFlashSaleGoodsQualifications(t,n){return e.apply(this,arguments)}}()};return t};var g=n(257),h=n(253),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v={"isReady":!1,"goodsInfo":{"goodImage":"","goodName":"","goodIntro":"","goodPrice":0,"goodStaus":""}};function main_main(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments[1],n=t.type,o=t.payload;return Object(g.a)(e,function(e){switch(n){case r.commonChange:return h.b(e,y({},o,{"key":"main"}));case r.init:for(var t in e.isReady=!0,o.main)e[t]=o.main[t];return e;case r.clean:for(var a in v)e[a]=v[a];return e}})}function actions_asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}var _=function(e){var t={"action":Object(u.a)(m)(e),"init":function(){var n=actions_asyncToGenerator(regeneratorRuntime.mark(function _callee(n,o){return regeneratorRuntime.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.loadReducer();case 2:return a.next=4,t.action._getGoodsInfoDetail(n);case 4:return a.next=6,t.action.getFlashSaleGoodsQualifications(n,o);case 6:e({"type":r.init,"payload":{}});case 7:case"end":return a.stop()}},_callee,this)}));return function init(e,t){return n.apply(this,arguments)}}(),"clean":function(){var n=actions_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=!1,!n.t0){n.next=4;break}return n.next=4,t.unloadReducer();case 4:e({"type":r.clean});case 5:case"end":return n.stop()}},_callee2,this)}));return function clean(){return n.apply(this,arguments)}}(),"loadReducer":function(){var e=actions_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:l.d({"goodsBuyInMain":main_main});case 1:case"end":return e.stop()}},_callee3,this)}));return function loadReducer(){return e.apply(this,arguments)}}(),"unloadReducer":function(){var e=actions_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:l.b?l.b(["goodsBuyInMain"]):console.error("请在redux/store中实现deregister逻辑. ");case 1:case"end":return e.stop()}},_callee4,this)}));return function unloadReducer(){return e.apply(this,arguments)}}()};return{"actions":t}};function store2Props(e){return{"main":e.goodsBuyInMain}}var b=n(1847),w=n.n(b),I=n(271),P=n(278),x=n(279),O=(n(1848),n(265)),k=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var G=function(e){function BuyList(e){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BuyList),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(BuyList.__proto__||Object.getPrototypeOf(BuyList)).call(this,e))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(BuyList,c["a"].Component),k(BuyList,[{"key":"render","value":function render(){var e=this.props,t=(e.actions.action,e.main);return o.l.createElement(I.a,null,o.l.createElement(i.a,{"className":"spuList skuList"},o.l.createElement(i.a,{"className":"buy-spu-item"},o.l.createElement(P.a,{"src":t.goodsInfo.goodImage||"https://img95.699pic.com/photo/40011/0709.jpg_wh860.jpg","className":"goods-img"}),o.l.createElement(i.a,{"className":"right-content"},o.l.createElement(i.a,{"className":"up-content"},o.l.createElement(i.a,{"className":"goods-title"},o.l.createElement(i.a,{"className":"marketing"},o.l.createElement(x.a,{"className":"market-text"},"自营")),o.l.createElement(i.a,{"className":"title-view"},o.l.createElement(x.a,{"className":"words"},o.l.createElement(x.a,{"className":"text"},"随便写"),t.goodsInfo.goodName?t.goodsInfo.goodName:""))),o.l.createElement(i.a,{"className":"goods-spec"},o.l.createElement(x.a,{"className":"spec-text"},t.goodsInfo.goodIntro?t.goodsInfo.goodIntro:""))),o.l.createElement(i.a,{"className":"down-content"},o.l.createElement(i.a,{"className":"goods-price"},o.l.createElement(O.a,{"price":t.goodsInfo.goodPrice?t.goodsInfo.goodPrice:0}),o.l.createElement(i.a,{"className":"right-tools"},"积极性抢购中…")))))))}}]),BuyList}(),N=G=Object(a.a)([Object(s.b)(store2Props,_)],G),R=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),E=function get(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:get(o,t,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0};_().actions.loadReducer();var j=function(e){function GoodsBuyIn(){!function goods_buy_in_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GoodsBuyIn);var e=function goods_buy_in_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(GoodsBuyIn.__proto__||Object.getPrototypeOf(GoodsBuyIn)).apply(this,arguments));return e.config={"navigationBarTitleText":"抢购中"},e}return function goods_buy_in_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(GoodsBuyIn,c["a"].Component),R(GoodsBuyIn,[{"key":"componentWillMount","value":function componentWillMount(){0}},{"key":"onShareAppMessage","value":function onShareAppMessage(){return{}}},{"key":"onShareTimeline","value":function onShareTimeline(){}},{"key":"componentDidMount","value":function componentDidMount(){var e=this.$router.params,t=e.flashSaleGoodsId,n=e.flashSaleGoodsNum;this.props.actions.init(t,n)}},{"key":"componentWillUnmount","value":function componentWillUnmount(){this.props.actions.clean()}},{"key":"render","value":function render(){var e=this.props;e.actions.action,e.main;return o.l.createElement(i.a,{"className":"goodsBuyIn"},o.l.createElement(N,null),o.l.createElement(i.a,{"style":{"background":"url("+w.a+")","backgroundSize":"cover"},"className":"gif"}))}},{"key":"componentDidShow","value":function componentDidShow(){E(GoodsBuyIn.prototype.__proto__||Object.getPrototypeOf(GoodsBuyIn.prototype),"componentDidShow",this)&&E(GoodsBuyIn.prototype.__proto__||Object.getPrototypeOf(GoodsBuyIn.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){E(GoodsBuyIn.prototype.__proto__||Object.getPrototypeOf(GoodsBuyIn.prototype),"componentDidHide",this)&&E(GoodsBuyIn.prototype.__proto__||Object.getPrototypeOf(GoodsBuyIn.prototype),"componentDidHide",this).call(this)}}]),GoodsBuyIn}();j=Object(a.a)([Object(s.b)(store2Props,_)],j);t.default=j}}]);