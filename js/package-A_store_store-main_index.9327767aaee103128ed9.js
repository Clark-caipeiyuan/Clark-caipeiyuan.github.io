(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{"1281":function(e,t,n){},"2831":function(e,t,n){"use strict";n.r(t);var a=n(5),o=n(11),r=n(3),i=n(220),c=n(2631),s=n(433),l=(n(280),n(4)),u=n(8),p=n(7),d=n(9),h=n(278),f=n(279),g=(n(1281),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var b=function(e){function StoreInvalid(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,StoreInvalid);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(StoreInvalid.__proto__||Object.getPrototypeOf(StoreInvalid)).call(this,e));return t.state={"count":0,"isDoing":!1,"textName":"获取验证码"},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(StoreInvalid,r["a"].Component),g(StoreInvalid,[{"key":"componentDidMount","value":function componentDidMount(){}},{"key":"componentWillUnmount","value":function componentWillUnmount(){}},{"key":"render","value":function render(){return function _objectDestructuringEmpty(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(this.state),a.l.createElement(c.a,{"className":"storeInvalid"},a.l.createElement(c.a,{"className":"whiteBox"},a.l.createElement(h.a,{"src":"https://eshop-lcpro.oss-cn-shanghai.aliyuncs.com/mini/assets/image/store/invalid.png","className":"img"}),a.l.createElement(f.a,{"className":"title"},"店铺关闭或不存在"),a.l.createElement(c.a,{"className":"btn","onClick":function onClick(){r.a.navigateTo({"url":"/pages/index/index"})}},"去首页")))}}]),StoreInvalid}();b.defaultProps={};var v=n(502),y=n(392),m=n(16);n.d(t,"default",function(){return w});var T=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),_=function get(e,t,n){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var o=Object.getPrototypeOf(e);return null===o?void 0:get(o,t,n)}if("value"in a)return a.value;var r=a.get;return void 0!==r?r.call(n):void 0};function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(a,o){try{var r=t[a](o),i=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}var w=function(e){function Index(e){!function store_main_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index);var t=function store_main_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Index.__proto__||Object.getPrototypeOf(Index)).call(this,e));return t.config={"navigationBarTitleText":"店铺"},t.state={"version":0,"invalidFlage":!1},t}return function store_main_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,r["a"].Component),T(Index,[{"key":"componentWillMount","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e,t,n,a,i,c,s;return regeneratorRuntime.wrap(function _callee$(h){for(;;)switch(h.prev=h.next){case 0:if(e=Object(o.d)("canteenId"),t=this.$router.params,n=t.channelType,(a=t.storeId)?Object(o.g)("canteen-storeId",a):r.a.navigateTo({"url":u.a.eshopHost+"?channelType=12"}),n&&Object(o.g)(l.c.CHANNEL_TYPE_BL,n),e?Object(o.g)(l.c.CHANNEL_TYPE_BL,8):(i=decodeURI(Object(o.d)(l.c.CHANNEL_TYPE_BL)))?Object(o.g)(l.c.CHANNEL_TYPE_BL,i):Object(o.g)(l.c.CHANNEL_TYPE_BL,1e4),!p.f.isLogin()){h.next=14;break}return h.next=9,d.a.storeBaseController.queryStore({"storeId":Number(this.$router.params.storeId)});case 9:c=h.sent,p.o.myPvUvStatis(null,c.companyInfoId),0!=c.storeResponseState&&this.setState({"invalidFlage":!0}),h.next=18;break;case 14:return h.next=16,d.a.storeBaseController.queryStoreUnlogin({"storeId":Number(this.$router.params.storeId)});case 16:s=h.sent,p.o.myPvUvStatis(null,s.companyInfoId);case 18:case"end":return h.stop()}},_callee,this)}));return function componentWillMount(){return e.apply(this,arguments)}}()},{"key":"onShareAppMessage","value":function onShareAppMessage(){return{}}},{"key":"onShareTimeline","value":function onShareTimeline(){}},{"key":"componentDidShow","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:this.fetchMagicVersion();case 1:case"end":return e.stop()}},_callee2,this)}));return function componentDidShow(){return e.apply(this,arguments)}}()},{"key":"render","value":function render(){var e=Object(o.d)("authInfo:token"),t=Object(o.d)("b2b-wechat@login").customerId,n=u.a.magicHost+"/mini/index/"+this.$router.params.storeId+"?token="+e+"&customerId="+t+"&t="+this.state.version,r=Object(o.d)(l.c.CHANNEL_TYPE_BL),i=this.$router.params.storeId,p=!0;return p=Object(m.e)()?!!("5"==r||12==r&&i):"true"!=Object(o.d)(l.c.HIDE_TAB_BAR),a.l.createElement(c.a,null,a.l.createElement(s.a,{"src":n,"style":{"height":"100%"}}),p&&a.l.createElement(v.a,{"tabList":l.a.mainRestaurant,"onClick":this.handleClick.bind(this),"current":0}),this.state.invalidFlage&&a.l.createElement(b,null))}},{"key":"fetchMagicVersion","value":function fetchMagicVersion(){var e=this;Object(i.a)({"method":"GET","mode":"no-cors","url":u.a.renderHost+"/pageinfo-version/d2cStore/000000/weixin/index?storeId="+this.$router.params.storeId,"success":function success(t){e.setState({"version":t.data.data.version})}})}},{"key":"handleClick","value":function handleClick(e){var t=Object(o.d)(l.c.CHANNEL_TYPE_BL);y.d(e,t)}},{"key":"componentDidMount","value":function componentDidMount(){_(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this)&&_(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){_(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this)&&_(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this).call(this)}}]),Index}()},"392":function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return p}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return h});var a=n(11),o=n(3),r=n(4),i=n(7),c=n(8),s=sessionStorage.getItem("siteChannelCode")||"",l=function mainEstoreTabClick(e){switch(e){case 2:Object(a.g)(r.c.CHANNEL_TYPE_BL,1e4),o.a.navigateTo({"url":"/pages/index/index?channelType=10000&siteChannel="+s});break;case 0:Object(a.g)(r.c.CHANNEL_TYPE_BL,0),o.a.navigateTo({"url":"/pages/index/index?channelType=0&siteChannel="+s}),window.ReactNativeWebView&&window.ReactNativeWebView.postMessage('{"eshop":"1"}');break;case 1:var t=Object(a.d)("authInfo:token")?"1":"0";i.g.refreshNgToken().then(function(e){o.a.navigateTo({"url":"/pages/estore-page/index?origin=daodian&channel=TOC&ngAccessToken="+e+"&hideTab=1&isLogin="+t})});break;case 3:o.a.navigateTo({"url":"/pages/shop-cart/index?channelType=10000&siteChannel="+s});break;case 4:o.a.navigateTo({"url":"/pages/user-center/index?channelType=10000&siteChannel="+s})}},u=function mainNotEstoreTabClick(e,t){switch(e){case 2:Object(a.g)(r.c.CHANNEL_TYPE_BL,1e4),o.a.navigateTo({"url":"/pages/index/index?channelType=10000&siteChannel="+s});break;case 0:Object(a.g)(r.c.CHANNEL_TYPE_BL,0),o.a.navigateTo({"url":"/pages/index/index?channelType=0&siteChannel="+s}),window.ReactNativeWebView&&window.ReactNativeWebView.postMessage('{"eshop":"1"}');break;case 1:o.a.navigateTo({"url":"/pages/classify-goods-list/index?channelType="+t+"&siteChannel="+s});break;case 3:o.a.navigateTo({"url":"/pages/shop-cart/index?channelType=10000&siteChannel="+s});break;case 4:o.a.navigateTo({"url":"/pages/user-center/index?channelType=10000&siteChannel="+s})}},p=function mainEshopTabClick(e,t){switch(e){case 0:o.a.navigateTo({"url":"/pages/index/index?channelType="+t+"&siteChannel="+s}),0==t&&window.ReactNativeWebView&&window.ReactNativeWebView.postMessage('{"eshop":"1"}');break;case 1:o.a.navigateTo({"url":"/pages/package-B/goods/all-list/index?channelType="+t+"&siteChannel="+s});break;case 2:o.a.navigateTo({"url":"/pages/shop-cart/index?channelType="+t+"&siteChannel="+s});break;case 3:o.a.navigateTo({"url":"/pages/user-center/index?channelType="+t+"&siteChannel="+s})}},d=function mainRestaurantTabClick(e,t){var n=Object(a.d)("canteen-storeId");switch(e){case 0:Object(a.g)(r.c.CHANNEL_TYPE_BL,t),o.a.navigateTo({"url":"/pages/package-A/store/store-main/index?storeId="+n});break;case 1:o.a.navigateTo({"url":"/pages/package-A/store/cate-list/index?channelType="+t+"&siteChannel="+s+"&storeId="+n});break;case 2:o.a.navigateTo({"url":"/pages/shop-cart/index?channelType="+t+"&siteChannel="+s+"&storeId="+n});break;case 3:o.a.navigateTo({"url":"/pages/user-center/index?channelType="+t+"&siteChannel="+s+"&storeId="+n})}},h=function mainWealBenefitTabClick(e,t){switch(Object(a.e)("canteen-storeId"),e){case 0:Object(a.g)(r.c.CHANNEL_TYPE_BL,t),o.a.navigateTo({"url":c.a.eshopHost+"?channelType=12"});break;case 1:o.a.navigateTo({"url":"/pages/shop-cart/index?channelType="+t+"&siteChannel="+s});break;case 2:o.a.navigateTo({"url":"/pages/user-center/index?channelType="+t+"&siteChannel="+s})}}}}]);