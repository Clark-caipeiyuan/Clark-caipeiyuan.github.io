(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{"1351":function(e,t,n){},"1353":function(e,t,n){e.exports=n.p+"static/images/default-wechat.png"},"251":function(e,t,n){"use strict";function extraPathsValue(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0],r=t.length>=2?t[1]:null,o=null;"function"==typeof t[t.length-1]&&(o=t[t.length-1]);var s=[],c=void 0,i=[];return"string"==typeof a&&r&&r.props&&r.props["data-paths"]?(s=r.props["data-paths"].split(/[,\.]/gi),c=a):a instanceof Array&&a[0].hasOwnProperty("paths")&&a[0].hasOwnProperty("value")?i=a.map(function(e){var t=e.paths,n=e.value,a=t;return"string"==typeof a&&(a=t.split(/[,\.]/gi)),{"paths":a,"value":n}}):"string"==typeof a?(s=a.split(/[,\.]/gi),c=r,console.log(s,c,103)):a.hasOwnProperty("target")&&a.target["data-paths"]&&void 0!=a.target.value?(s=a.target["data-paths"].split(/[,\.]/gi),c=a.target.value):a.hasOwnProperty("target")&&a.target.dataset&&a.target.dataset.paths?(s=a.target.dataset.paths.split(/[,\.]/gi),c=a.target.value):a instanceof Array&&r instanceof Array&&r[0]&&"function"==typeof r[0].type&&r[0].props&&r[0].props["data-paths"]?(s=r[0].props["data-paths"].split(/[,\.]/gi),c=a):a instanceof Array?(s=a,c=r):r&&r.hasOwnProperty("props")&&r.props.hasOwnProperty("data-paths")&&r.props.hasOwnProperty("value")&&(s=r.props["data-paths"].split(/[,\.]/gi),c=r.props.value),o?o({"paths":s,"value":c,"batchUpdate":i,"raw":t}):{"paths":s,"value":c,"batchUpdate":i}}n.d(t,"a",function(){return extraPathsValue})},"252":function(e,t,n){"use strict";n.d(t,"a",function(){return getActionProxy});function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(a,r){try{var o=t[a](r),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){step("next",e)},function(e){step("throw",e)});e(s)}("next")})}}var a,r=[(a=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t){var n,a=e.methodName,r=e.target;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if("query"!==a||!r.commonChange){e.next=11;break}return console.log("beginMiddware"),r.commonChange(["main","isLoading"],!0),e.next=5,t();case 5:return n=e.sent,r.commonChange(["main","isLoading"],!1),console.log("end Middware"),e.abrupt("return",n);case 11:return e.abrupt("return",t());case 12:case"end":return e.stop()}},_callee,void 0)})),function loadingM(e,t){return a.apply(this,arguments)})],o=function compose(e){var t,n,a=(t=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(t,n,o){var s,c;return regeneratorRuntime.wrap(function _callee4$(i){for(;;)switch(i.prev=i.next){case 0:return s=t+1,c=a.bind(null,s,n,o),s===r&&(c=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var e;return regeneratorRuntime.wrap(function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o();case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},_callee3,this)}));return function _next(){return e.apply(this,arguments)}}()),i.abrupt("return",e[t](n,c));case 4:case"end":return i.stop()}},_callee4,this)})),function _dispatch(e,n,a){return t.apply(this,arguments)}),r=e.length;return n=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e,t){return regeneratorRuntime.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a(0,e,t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},_callee2,void 0)})),function(e,t){return n.apply(this,arguments)}};function getActionProxy(e){var t={},n=o(r);return function(a){var r=e(a),o=new Proxy(r,{"get":function get(e,a,s){var c=this,i=String(a);return t[i]||"function"!=typeof r[a]||(t[i]=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];var u,l;return regeneratorRuntime.wrap(function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:return u=t,e.next=3,n({"methodName":i,"arguments":u,"target":o},function(){return r[a].apply(o,u)});case 3:return l=e.sent,e.abrupt("return",l);case 5:case"end":return e.stop()}},_callee5,c)}))),t[i]?t[i]:Reflect.get(e,a,s)},"set":function set(e,t,n,a){return Reflect.set(e,t,n,a)},"apply":function apply(e,t,n){return Reflect.apply.apply(Reflect,arguments)}});return o}}},"253":function(e,t,n){"use strict";function commonChange(e,t){if(t.paths&&(t.paths=function ensurePath(e){var t=e;return"string"==typeof e?t=e.split("."):t}(t.paths)),t.paths[0]===t.key&&modifyDeep(e,t.paths.splice(1),t.value),t.batchUpdate)for(var n=0,a=t.batchUpdate.length;n<a;n++){var r=t.batchUpdate[n],o=r.paths,s=r.value;o[0]===t.key&&modifyDeep(e,o.splice(1),s)}return e}function modifyDeep(e,t,n){for(var a=e,r=t.length-1,o=0,s=r;o<s;o++)(a=a[t[o]])||console.warn("the obj defined by paths "+t+" is not exist!!");"function"==typeof n?n(a[t[r]]):a[t[r]]=n}function assign(e,t){if(!t)return e;for(var n in t)e[n]=t[n];return e}n.d(t,"b",function(){return commonChange}),n.d(t,"a",function(){return assign})},"2832":function(e,t,n){"use strict";n.r(t);var a=n(5),r=n(246),o=n(2631),s=n(278),c=n(279),i=n(296),u=n(920),l=n(3),p=n(686),f=n(37),m=(n(1351),n(747)),h=n(736),d=n(1353),y=n.n(d),g=n(4),w=n(7),v=n(683),_=n(8),b=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(a,r){try{var o=t[a](r),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){step("next",e)},function(e){step("throw",e)});e(s)}("next")})}}var C=Object(_.b)("isIOS"),P=function(e){function PasswordMask(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PasswordMask);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(PasswordMask.__proto__||Object.getPrototypeOf(PasswordMask)).call(this,e));return t.state={"password":null,"isFocus":!1},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(PasswordMask,l["a"].Component),b(PasswordMask,[{"key":"render","value":function render(){var e=this,t=this.props,n=t.actions.action,r=t.main,s=r.payData,i=s.payErrorTime,u=s.checkPayPwRes,p=r.isSubmit,f=this.state.isFocus;return a.l.createElement(o.a,{"className":"pass-bg"},a.l.createElement(o.a,{"className":"pass-show","style":f?{"top":"35%"}:{"top":"50%"}},a.l.createElement(o.a,{"className":"pass-header"},a.l.createElement(c.a,{"className":"pass-title"},"输入支付密码")),a.l.createElement(o.a,{"className":"pass-body"},a.l.createElement(v.a,{"focus":!C,"toPay":function toPay(t){e.setState({"password":t})},"getValue":function getValue(){},"onfocus":function onfocus(){return e.setState({"isFocus":!0})},"onBlur":function onBlur(){return e.setState({"isFocus":!1})}}),a.l.createElement(o.a,{"className":"password-tips"},a.l.createElement(c.a,{"className":"password-error"},u&&~[0,3].indexOf(i)?"":u?"密码错误，还有"+(3-i)+"次机会":"账户已冻结，请30分钟后重试"),a.l.createElement(c.a,{"className":"forget-pass","onClick":_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.navigateTo({"url":"/pages/package-A/customer/user-pay/index"});case 2:case"end":return e.stop()}},_callee,e)}))},"忘记密码"))),a.l.createElement(o.a,{"className":"pass-btn"},a.l.createElement(o.a,{"className":"pass-cancel","onClick":_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:e.setState({"password":null}),n.commonChange("main.passwordMaskShow",!1),n.commonChange("main.isSubmit",!1);case 3:case"end":return t.stop()}},_callee2,e)}))},"取消"),a.l.createElement(o.a,{"className":this.state.password&&u?"pass-true":"pass-false","onClick":p?w.m:_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:if(n.commonChange("main.isSubmit",!0),!e.state.password||!u){t.next=8;break}return t.next=4,n._paymentPass();case 4:if(t.t0=t.sent,!t.t0){t.next=8;break}return t.next=8,n._checkPayPwd(e.state.password,function(){e.setState({"password":null})});case 8:case"end":return t.stop()}},_callee3,e)}))},"提交"))))}}]),PasswordMask}();P.options={"addGlobalClass":!0};var k=P=Object(r.a)([Object(f.b)(h.a,m.a)],P),x=(n(280),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}()),R=function get(e,t,n){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0};function deposit_asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(a,r){try{var o=t[a](r),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){step("next",e)},function(e){step("throw",e)});e(s)}("next")})}}Object(m.a)().actions.loadReducer();var D=function(e){function PackageACustomerBalanceDeposit(){!function deposit_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PackageACustomerBalanceDeposit);var e=function deposit_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(PackageACustomerBalanceDeposit.__proto__||Object.getPrototypeOf(PackageACustomerBalanceDeposit)).apply(this,arguments));return e.config={"navigationBarTitleText":"提现申请单","enablePullDownRefresh":!0},e._inputChange=function(t){var n=Number(t);Number.isNaN(n)?e.props.actions.action.commonChange("main.cash.inputMoney",0):e.props.actions.action.commonChange("main.cash.inputMoney",t)},e._getCanDrawCash=function(e){var t=e.money,n=e.alreadyDrawCash,a=t>g.a.MAX_DRAW_CASH?g.a.MAX_DRAW_CASH:t,r=a;if(n)if(n<g.a.MAX_DRAW_CASH){var o=w.g.sub(g.a.MAX_DRAW_CASH,n);r=a>o?o:a}else r=0;return r},e}return function deposit_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(PackageACustomerBalanceDeposit,l["a"].Component),x(PackageACustomerBalanceDeposit,[{"key":"componentWillMount","value":function(){var e=deposit_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return console.log(l.a.getCurrentPages()),console.log(this.$router),console.log("**************************"),e.next=6,this.props.actions.init();case 6:case"end":return e.stop()}},_callee,this)}));return function componentWillMount(){return e.apply(this,arguments)}}()},{"key":"onPullDownRefresh","value":function(){var e=deposit_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.actions.init();case 2:return e.next=4,Object(p.b)();case 4:case"end":return e.stop()}},_callee2,this)}));return function onPullDownRefresh(){return e.apply(this,arguments)}}()},{"key":"onShareAppMessage","value":function onShareAppMessage(){return{}}},{"key":"onShareTimeline","value":function onShareTimeline(){}},{"key":"componentWillUnmount","value":function(){var e=deposit_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.actions.clean();case 2:l.a.navigateBack({"delta":1});case 3:case"end":return e.stop()}},_callee3,this)}));return function componentWillUnmount(){return e.apply(this,arguments)}}()},{"key":"render","value":function render(){var e=this,t=this.props,n=t.actions.action,r=t.main,l=r.passwordMaskShow,p=r.use,f=p.nickName,m=p.headimgurl,h=r.cash.inputMoney,d=r.cash,g=this._getCanDrawCash(d),w="本次最多提现¥"+g,v=a.l.createElement(o.a,{"className":"packageACustomerBalanceDeposit"},a.l.createElement(o.a,{"className":"deposit-con"},a.l.createElement(o.a,{"className":"deposit-header"},a.l.createElement(s.a,{"className":"icon","src":m||y.a}),a.l.createElement(c.a,{"className":"title"},f)),a.l.createElement(o.a,{"className":"deposit-content"},a.l.createElement(o.a,{"className":"item"},a.l.createElement(c.a,{"className":"title"},"提现金额"),a.l.createElement(i.a,{"type":"digit","placeholder":w,"className":"input","value":h>0?h+"":null,"onInput":function onInput(t){var n=t.detail.value;e._inputChange(n)}}),a.l.createElement(c.a,{"className":"check-all","onClick":function onClick(){n.commonChange("main.cash.inputMoney",g)}},"全部提现")),a.l.createElement(o.a,{"className":"item"},a.l.createElement(c.a,{"className":"title"},"备注"),a.l.createElement(i.a,{"placeholder":"(非必填)最多输入50字","maxLength":50,"className":"input","onInput":function onInput(e){var t=e.detail.value;return n.commonChange("main.customerDrawCashAddRequest.drawCashRemark",t),t}}),a.l.createElement(c.a,{"className":"check-all","style":{"opacity":"0"}},"全部提现")),a.l.createElement(o.a,{"className":"commite-btn","onClick":deposit_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._paymentPass();case 2:case"end":return e.stop()}},_callee4,e)}))},a.l.createElement(c.a,{"className":"text"},"提交")))),l&&a.l.createElement(k,null));return a.l.createElement(u.a,{"onRefresh":this.onPullDownRefresh&&this.onPullDownRefresh.bind(this),"ref":function ref(t){t&&(e.pullDownRefreshRef=t)}},v)}},{"key":"componentDidMount","value":function componentDidMount(){R(PackageACustomerBalanceDeposit.prototype.__proto__||Object.getPrototypeOf(PackageACustomerBalanceDeposit.prototype),"componentDidMount",this)&&R(PackageACustomerBalanceDeposit.prototype.__proto__||Object.getPrototypeOf(PackageACustomerBalanceDeposit.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){R(PackageACustomerBalanceDeposit.prototype.__proto__||Object.getPrototypeOf(PackageACustomerBalanceDeposit.prototype),"componentDidShow",this)&&R(PackageACustomerBalanceDeposit.prototype.__proto__||Object.getPrototypeOf(PackageACustomerBalanceDeposit.prototype),"componentDidShow",this).call(this),this.pullDownRefreshRef&&this.pullDownRefreshRef.bindEvent()}},{"key":"componentDidHide","value":function componentDidHide(){R(PackageACustomerBalanceDeposit.prototype.__proto__||Object.getPrototypeOf(PackageACustomerBalanceDeposit.prototype),"componentDidHide",this)&&R(PackageACustomerBalanceDeposit.prototype.__proto__||Object.getPrototypeOf(PackageACustomerBalanceDeposit.prototype),"componentDidHide",this).call(this),this.pullDownRefreshRef&&this.pullDownRefreshRef.unbindEvent()}}]),PackageACustomerBalanceDeposit}();D=Object(r.a)([Object(f.b)(h.a,m.a)],D);t.default=D},"683":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n(5),r=n(2631),o=n(279),s=n(296),c=n(3),i=(n(684),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var u=function(e){function PasswordInput(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PasswordInput);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(PasswordInput.__proto__||Object.getPrototypeOf(PasswordInput)).call(this,e));return t.state={"value":null},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(PasswordInput,c["a"].Component),i(PasswordInput,[{"key":"render","value":function render(){var e=this,t=this.state.value,n=this.props,c=n.style,i=n.focus,u=n.getValue,l=n.title,p=n.toPay,f=n.disabled,m=n.onfocus,h=n.onBlur;return a.l.createElement(r.a,{"style":c},l&&a.l.createElement(o.a,{"className":"password-title"},l),a.l.createElement(r.a,{"className":"password-input"},a.l.createElement(r.a,{"className":"number-box"},[1,2,3,4,5,6].map(function(e,t){return a.l.createElement(r.a,{"className":"item-box"})})),a.l.createElement(r.a,{"className":"number-box real-box"},this.state.value&&this.state.value.split("").map(function(e,t){return a.l.createElement(r.a,{"className":"item-box"},"●")})),a.l.createElement(s.a,{"className":"input-hidden","value":t,"disabled":f,"onInput":function onInput(t){f||(e.setState({"value":t.detail.value}),6===t.detail.value.length?(u(t.detail.value),p(t.detail.value)):u(t.detail.value))},"maxLength":6,"type":"number","focus":i,"onFocus":function onFocus(){return m()},"onBlur":function onBlur(){return h()}})))}}]),PasswordInput}();u.defaultProps={"onfocus":function onfocus(){},"onBlur":function onBlur(){}}},"684":function(e,t,n){},"736":function(e,t,n){"use strict";function store2Props(e){return{"main":e.packageACustomerBalanceDepositMain}}n.d(t,"a",function(){return store2Props})},"747":function(e,t,n){"use strict";var a;!function(e){e.commonChange="PackageACustomerBalanceDeposit_commonChange",e.init="PackageACustomerBalanceDeposit_INIT",e.clean="PackageACustomerBalanceDeposit_CLEAN"}(a||(a={}));var r=n(252),o=n(9),s=n(38),c=n(251),i=n(4),u=n(1),l=n.n(u),p=n(7),f=n(14),m=n(3);function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(a,r){try{var o=t[a](r),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){step("next",e)},function(e){step("throw",e)});e(s)}("next")})}}var h=function(e){var t={"commonChange":function commonChange(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e({"type":a.commonChange,"payload":c.a.apply(void 0,arguments)})},"_getCheckPayPwdRes":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e){return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null==e||Boolean(e)&&l()(l()(e).format(i.a.SECONDS_FORMAT)).add(30,"m").isBefore(l()(l()(Date.now()).format(i.a.SECONDS_FORMAT))));case 1:case"end":return t.stop()}},_callee,this)}));return function _getCheckPayPwdRes(t){return e.apply(this,arguments)}}(),"_paymentPass":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e,n,a,r,s;return regeneratorRuntime.wrap(function _callee2$(c){for(;;)switch(c.prev=c.next){case 0:if(e=getData(),(n=e.main.cash.inputMoney)&&!(n<1)){c.next=5;break}return c.next=4,this._showToast("提现金额不可低于1元!");case 4:return c.abrupt("return",!1);case 5:return c.next=7,o.a.customerFundsController.statistics();case 7:if(a=c.sent,r=a.withdrawAmountTotal,!(n>r)){c.next=13;break}return c.next=12,this._showToast("余额不足，请修改提现金额！");case 12:return c.abrupt("return",!1);case 13:return c.next=15,o.a.customerDrawCashController.countDrawCashSumByCustId();case 15:if(s=c.sent,!(p.g.add(n,s)>i.a.MAX_DRAW_CASH)){c.next=21;break}return c.next=20,this._showToast("提现金额超出当天最大提现金额");case 20:return c.abrupt("return",!1);case 21:return t.commonChange("main.passwordMaskShow",!0),c.abrupt("return",!0);case 23:case"end":return c.stop()}},_callee2,this)}));return function _paymentPass(){return e.apply(this,arguments)}}(),"_checkPayPwd":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e,n){var a,r,s,c,i,u,l,h,d,y,g,w;return regeneratorRuntime.wrap(function _callee3$(v){for(;;)switch(v.prev=v.next){case 0:return Object(f.c)(),a=getData(),r=a.main,s=r.cash.inputMoney,c=r.customerDrawCashAddRequest,i=c.drawCashAccountName,u=c.drawCashRemark,v.prev=2,Object(f.a)(),v.next=6,o.a.customerBalanceBaseController.checkCustomerPayPwd({"payPassword":e});case 6:if(l=void 0,h=void 0,m.a.getEnv()===m.a.ENV_TYPE.WEB&&p.g.isWeixin()&&(l=p.f.wechatOpenIdByH5(),h="1"),m.a.getEnv()!==m.a.ENV_TYPE.WEAPP){v.next=14;break}return v.next=12,p.f.getOpenIdByMini();case 12:l=v.sent,h="3";case 14:return v.next=16,o.a.customerDrawCashController.addCustomerDrawCash({"drawCashSum":s,"drawCashSource":h,"drawCashRemark":u,"payPassword":e,"openId":l,"drawCashAccountName":i});case 16:return d=v.sent,y=d.customerDrawCashVO.drawCashId,v.next=20,t.commonChange("main.passwordMaskShow",!1);case 20:return v.next=22,m.a.navigateTo({"url":"/pages/package-A/customer/balance/deposit/deposit-success/index?drawCashId="+y});case 22:t.commonChange("main.isSubmit",!1),v.next=37;break;case 25:return v.prev=25,v.t0=v.catch(2),t.commonChange("main.isSubmit",!1),v.next=30,o.a.customerBaseController.getLoginCustomerInfo();case 30:return g=v.sent,w=g.payErrorTime,v.next=34,t.commonChange("main.payData.payErrorTime",w);case 34:return v.next=36,t.commonChange([{"paths":"main.payData.payErrorTime","value":w},{"paths":"main.payData.checkPayPwRes","value":!(3===w)}]);case 36:n();case 37:case"end":return v.stop()}},_callee3,this,[[2,25]])}));return function _checkPayPwd(t,n){return e.apply(this,arguments)}}(),"_showToast":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(e){return regeneratorRuntime.wrap(function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(f.e)({"title":e,"icon":"none","duration":2e3});case 2:case"end":return t.stop()}},_callee4,this)}));return function _showToast(t){return e.apply(this,arguments)}}()};return t};function getData(){return{"main":Object(s.c)("packageACustomerBalanceDepositMain")}}var d=n(257),y=n(253),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},w={"isReady":!1,"customerDrawCashAddRequest":{"drawCashAccountName":"","drawCashRemark":""},"cash":{"money":0,"alreadyDrawCash":0,"inputMoney":0},"use":{"nickName":"","headimgurl":""},"passwordMaskShow":!1,"isSubmit":!1};function main(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments[1],n=t.type,r=t.payload;return Object(d.a)(e,function(e){switch(n){case a.commonChange:return y.b(e,g({},r,{"key":"main"}));case a.init:for(var t in e.isReady=!0,r.main)e[t]=r.main[t];return e;case a.clean:for(var o in w)e[o]=w[o];return e}})}var v=n(11);function actions_asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(a,r){try{var o=t[a](r),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){step("next",e)},function(e){step("throw",e)});e(s)}("next")})}}t.a=function(e){var t={"action":Object(r.a)(h)(e),"init":function(){var n=actions_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var n,r,s,c,u,l,p,f,m,h,d;return regeneratorRuntime.wrap(function _callee$(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,t.loadReducer();case 2:return y.next=4,o.a.customerFundsController.statistics();case 4:return n=y.sent,r=n.withdrawAmountTotal||0,y.next=8,Object(v.d)(i.c.AUTH_INFO);case 8:return s=y.sent,c=s.nickName,u=s.headimgurl,y.next=13,o.a.customerDrawCashController.countDrawCashSumByCustId();case 13:return l=y.sent,y.next=16,o.a.customerBaseController.getLoginCustomerInfo();case 16:return p=y.sent,f=p.payErrorTime,m=void 0===f?null:f,h=p.payLockTime,d=void 0===h?null:h,y.t0=e,y.t1=a.init,y.t2={"money":r,"alreadyDrawCash":l||0},y.t3=m,y.next=27,t.action._getCheckPayPwdRes(d);case 27:y.t4=y.sent,y.t5={"payErrorTime":y.t3,"checkPayPwRes":y.t4},y.t6={"drawCashAccountName":c},y.t7={"nickName":c,"headimgurl":u},y.t8={"cash":y.t2,"payData":y.t5,"customerDrawCashAddRequest":y.t6,"use":y.t7},y.t9={"main":y.t8},y.t10={"type":y.t1,"payload":y.t9},(0,y.t0)(y.t10);case 35:case"end":return y.stop()}},_callee,this)}));return function init(){return n.apply(this,arguments)}}(),"clean":function(){var n=actions_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=!1,!n.t0){n.next=4;break}return n.next=4,t.unloadReducer();case 4:e({"type":a.clean});case 5:case"end":return n.stop()}},_callee2,this)}));return function clean(){return n.apply(this,arguments)}}(),"loadReducer":function(){var e=actions_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:s.d({"packageACustomerBalanceDepositMain":main});case 1:case"end":return e.stop()}},_callee3,this)}));return function loadReducer(){return e.apply(this,arguments)}}(),"unloadReducer":function(){var e=actions_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:s.b?s.b(["packageACustomerBalanceDepositMain"]):console.error("请在redux/store中实现deregister逻辑. ");case 1:case"end":return e.stop()}},_callee4,this)}));return function unloadReducer(){return e.apply(this,arguments)}}()};return{"actions":t}}}}]);