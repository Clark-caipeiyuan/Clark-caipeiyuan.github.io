(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"1419":function(e,t,n){},"1421":function(e,t){!function(){window.BMap=window.BMap||{},BMap.Convertor={},BMap.Convertor.translate=function translate(e,t,n){var r="cbk_"+Math.round(1e4*Math.random());!function load_script(e,t){var n=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.src=e,r.onload=r.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(t&&t(),r.onload=r.onreadystatechange=null,n&&r.parentNode&&n.removeChild(r))},n.insertBefore(r,n.firstChild)}("https://api.map.baidu.com/ag/coord/convert?from="+t+"&to=4&x="+e.lng+"&y="+e.lat+"&callback=BMap.Convertor."+r),BMap.Convertor[r]=function(e){delete BMap.Convertor[r];var t=new BMap.Point(e.x,e.y);n&&n(t)}}}()},"1422":function(e,t,n){},"1424":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAABdFBMVEUAAAD///+5ubnLy8vGxsbDw8PW1tbKysqzs7O/v7+2tra4uLjS0tLV1dW7u7vGxsa+vr7FxcXW1tbAwMC5ubnMzMzPz8+3t7fAwMDIyMi2trbDw8PS0tLPz8+1tbXHx8fR0dHW1tbU1NS3t7e/v7++vr7Nzc3ExMS9vb3R0dG2trbExMTDw8PNzc25ubnT09PQ0NDMzMy7u7vQ0NDHx8fGxsa5ubm9vb3Ozs7V1dXT09PAwMC6urrX19e8vLzR0dHExMTX19fS0tK4uLjIyMi8vLy8vLzJycm9vb3Y2NjDw8O8vLzPz8/Dw8O3t7e1tbW/v7/KysrV1dXKysrAwMDW1tbKysq4uLjPz8+9vb3X19fV1dXJycm4uLjX19fLy8u6urrT09O3t7fV1dXT09PQ0NDZ2dnb29vT09O3t7e2trbV1dXQ0NC6urrLy8vCwsLR0dHIyMi5ubnNzc2/v7/Hx8fExMS4uLjBwcG8vLzKysq+vr4wasDYAAAAaHRSTlMAApkF/gnwEw0E6nxzZlYyMQ768OTi29nY1s/Kwr6yq6GbkYp9c2VcR0JBKyMe/vz89/by8vDs6+rl4eDd2NjX1NHRz8vGt7KyqKWcmpqUlJCPhYJtaWZkYWBZVFFPRkA7Ojk3LhsUDprsYB0AAAGLSURBVDjLrZNXV8JAEIVBBAERsIuA9A723nvvvfcyu5uFEFBA/rxRYA8hOT6Rp3sz39lM7s6o6vk0BV220caxxe1Qq1L5bXcomU5/Nn6lUtn2wyZZPTiSSSa//4B8PlucMEvLai/HZTLO85hGpbcG7NliodAsAbw8x3VFmA33FCgNVNVbgOfcmqoX+k1K+8PMJnTAu6Xf1KxToUNfcR6AZU1N060dOVRp470N4En2W+YcMhrKHRBwyHNRzyIcLcktAmcKyfkQ9pXUHIFXBeAO4b6S0hHQKgAxhHtLqo0QtQIQR7ibnfChAFjZCUsEXhQAM+vBQ8CkADQgXE7qmsCCvK4dR/i5LHUANzLAL6Duij4GmK4docSwgC7YxUwB76yJYocKKwbm7gd4ziE9Y54Kj1XWJE7U5GXlyg2iWKNCQ3V8LYNcJtl5dGuJW0J77TN61RXNIQkR6WJTncpnT8UYcghLCK2pk+1Fj1WcBzEofCDpy/BwsrFqs7v8FtH8Ehgb/11F9b4xWo+V/gGr+VaA6ocFlAAAAABJRU5ErkJggg=="},"251":function(e,t,n){"use strict";function extraPathsValue(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t.length>=2?t[1]:null,o=null;"function"==typeof t[t.length-1]&&(o=t[t.length-1]);var s=[],i=void 0,c=[];return"string"==typeof r&&a&&a.props&&a.props["data-paths"]?(s=a.props["data-paths"].split(/[,\.]/gi),i=r):r instanceof Array&&r[0].hasOwnProperty("paths")&&r[0].hasOwnProperty("value")?c=r.map(function(e){var t=e.paths,n=e.value,r=t;return"string"==typeof r&&(r=t.split(/[,\.]/gi)),{"paths":r,"value":n}}):"string"==typeof r?(s=r.split(/[,\.]/gi),i=a,console.log(s,i,103)):r.hasOwnProperty("target")&&r.target["data-paths"]&&void 0!=r.target.value?(s=r.target["data-paths"].split(/[,\.]/gi),i=r.target.value):r.hasOwnProperty("target")&&r.target.dataset&&r.target.dataset.paths?(s=r.target.dataset.paths.split(/[,\.]/gi),i=r.target.value):r instanceof Array&&a instanceof Array&&a[0]&&"function"==typeof a[0].type&&a[0].props&&a[0].props["data-paths"]?(s=a[0].props["data-paths"].split(/[,\.]/gi),i=r):r instanceof Array?(s=r,i=a):a&&a.hasOwnProperty("props")&&a.props.hasOwnProperty("data-paths")&&a.props.hasOwnProperty("value")&&(s=a.props["data-paths"].split(/[,\.]/gi),i=a.props.value),o?o({"paths":s,"value":i,"batchUpdate":c,"raw":t}):{"paths":s,"value":i,"batchUpdate":c}}n.d(t,"a",function(){return extraPathsValue})},"252":function(e,t,n){"use strict";n.d(t,"a",function(){return getActionProxy});function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,a){try{var o=t[r](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){step("next",e)},function(e){step("throw",e)});e(s)}("next")})}}var r,a=[(r=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t){var n,r=e.methodName,a=e.target;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if("query"!==r||!a.commonChange){e.next=11;break}return console.log("beginMiddware"),a.commonChange(["main","isLoading"],!0),e.next=5,t();case 5:return n=e.sent,a.commonChange(["main","isLoading"],!1),console.log("end Middware"),e.abrupt("return",n);case 11:return e.abrupt("return",t());case 12:case"end":return e.stop()}},_callee,void 0)})),function loadingM(e,t){return r.apply(this,arguments)})],o=function compose(e){var t,n,r=(t=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(t,n,o){var s,i;return regeneratorRuntime.wrap(function _callee4$(c){for(;;)switch(c.prev=c.next){case 0:return s=t+1,i=r.bind(null,s,n,o),s===a&&(i=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var e;return regeneratorRuntime.wrap(function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o();case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},_callee3,this)}));return function _next(){return e.apply(this,arguments)}}()),c.abrupt("return",e[t](n,i));case 4:case"end":return c.stop()}},_callee4,this)})),function _dispatch(e,n,r){return t.apply(this,arguments)}),a=e.length;return n=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e,t){return regeneratorRuntime.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r(0,e,t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},_callee2,void 0)})),function(e,t){return n.apply(this,arguments)}};function getActionProxy(e){var t={},n=o(a);return function(r){var a=e(r),o=new Proxy(a,{"get":function get(e,r,s){var i=this,c=String(r);return t[c]||"function"!=typeof a[r]||(t[c]=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];var u,l;return regeneratorRuntime.wrap(function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:return u=t,e.next=3,n({"methodName":c,"arguments":u,"target":o},function(){return a[r].apply(o,u)});case 3:return l=e.sent,e.abrupt("return",l);case 5:case"end":return e.stop()}},_callee5,i)}))),t[c]?t[c]:Reflect.get(e,r,s)},"set":function set(e,t,n,r){return Reflect.set(e,t,n,r)},"apply":function apply(e,t,n){return Reflect.apply.apply(Reflect,arguments)}});return o}}},"253":function(e,t,n){"use strict";function commonChange(e,t){if(t.paths&&(t.paths=function ensurePath(e){var t=e;return"string"==typeof e?t=e.split("."):t}(t.paths)),t.paths[0]===t.key&&modifyDeep(e,t.paths.splice(1),t.value),t.batchUpdate)for(var n=0,r=t.batchUpdate.length;n<r;n++){var a=t.batchUpdate[n],o=a.paths,s=a.value;o[0]===t.key&&modifyDeep(e,o.splice(1),s)}return e}function modifyDeep(e,t,n){for(var r=e,a=t.length-1,o=0,s=a;o<s;o++)(r=r[t[o]])||console.warn("the obj defined by paths "+t+" is not exist!!");"function"==typeof n?n(r[t[a]]):r[t[a]]=n}function assign(e,t){if(!t)return e;for(var n in t)e[n]=t[n];return e}n.d(t,"b",function(){return commonChange}),n.d(t,"a",function(){return assign})},"2780":function(e,t,n){"use strict";n.r(t);var r,a=n(5),o=n(246),s=n(2631),i=n(3),c=n(37);n(1419);!function(e){e.commonChange="PackageACustomerAddressMap_commonChange",e.init="PackageACustomerAddressMap_INIT",e.clean="PackageACustomerAddressMap_CLEAN"}(r||(r={}));var u=n(252),l=n(38),p=n(251),d=n(46),f=n.n(d),m=function(e){var t={"commonChange":function commonChange(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];e({"type":r.commonChange,"payload":p.a.apply(void 0,arguments)})},"initMap":function initMap(){var e=window,r=e.BMap,a=e.qq,o=-12.5,s=new r.Map("container");(s.addControl(new r.NavigationControl),s.addControl(new r.ScaleControl),s.addControl(new r.OverviewMapControl),s.addControl(new r.MapTypeControl),s.enableScrollWheelZoom(),0!=getData().main.lat&&0!=getData().main.lng)?translateCallback(new r.Point(getData().main.lng,getData().main.lat)):window.navigator.geolocation?window.navigator.geolocation.getCurrentPosition(function showPosition(e){var t=e.coords.longitude,a=e.coords.latitude,o=new r.Point(t,a);n(1421),r.Convertor.translate(o,0,translateCallback)},function showError(){new a.maps.Geolocation("TL2BZ-72BAP-PD4DL-LHK2Y-OY74O-OYFDD","myapp").getLocation(function(e){var t=new r.Point(e.lng,e.lat);translateCallback(t)})}):alert("浏览器不支持地理定位。");function getAroundAddress(e){var n=e.lng,r="https://api.map.baidu.com/geocoder/v2/?ak=G5cMUfuwGMGFNEevXjBDR9cNls8m8KpQ&output=json&pois=1&location="+e.lat+","+n+"&callback=showLocation&jsoncallback=?";f()(r,{"headers":{"Accept":"application/json"},"jsonCallbackFunction":"showLocation"}).then(function(e){return e.json()}).then(function(e){t.commonChange("main.aroundAddressList",e.result.pois),t.commonChange("main.addressComponent",e.result.addressComponent)})}function translateCallback(e){s.centerAndZoom(e,15);var t=s.pointToOverlayPixel(s.getCenter());s.setCenter(s.overlayPixelToPoint({"x":t.x,"y":t.y+o}));var n=new r.Marker(e);s.addOverlay(n),getAroundAddress(e);var a=void 0;s.addEventListener("dragend",function(){s.removeOverlay(n),s.removeOverlay(a);var e=s.pointToOverlayPixel(s.getCenter()),t=s.overlayPixelToPoint({"x":e.x,"y":e.y-o});a=new r.Marker(t),s.addOverlay(a),getAroundAddress(t)});var i,c=new r.Autocomplete({"input":"suggestId","location":s});c.addEventListener("onhighlight",function(e){var t="",n=e.fromitem.value,r="";e.fromitem.index>-1&&(r=n.province+n.city+n.district+n.street+n.business),t="FromItem<br />index = "+e.fromitem.index+"<br />value = "+r,r="",e.toitem.index>-1&&(r=(n=e.toitem.value).province+n.city+n.district+n.street+n.business),t+="<br />ToItem<br />index = "+e.toitem.index+"<br />value = "+r,document.getElementById("searchResultPanel").innerHTML=t}),c.addEventListener("onconfirm",function(e){var t=e.item.value;i=t.province+t.city+t.district+t.street+t.business,document.getElementById("searchResultPanel").innerHTML="onconfirm<br />index = "+e.item.index+"<br />myValue = "+i,function setPlace(){s.clearOverlays();var e=new r.LocalSearch(s,{"onSearchComplete":function myFun(){var t=e.getResults().getPoi(0).point;s.centerAndZoom(t,18),s.addOverlay(new r.Marker(t)),getAroundAddress(t)}});e.search(i)}()})}},"chooseAddress":function chooseAddress(e,t,n){var r=e.point.y+","+e.point.x,a=getData().main.addressId;i.a.redirectTo({"url":"/pages/package-A/customer/receive-address-edit/index?point="+r+"&addressId="+a+"&name="+e.name+"&addr="+e.addr+"&localKey="+t+"&mode="+n})}};return t};function getData(){return{"main":Object(l.c)("packageACustomerAddressMapMain")}}var y=n(257),h=n(253),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g={"isReady":!1,"aroundAddressList":[],"addressComponent":{},"addressId":"","lat":0,"lng":0};function main_main(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments[1],n=t.type,a=t.payload;return Object(y.a)(e,function(e){switch(n){case r.commonChange:return h.b(e,v({},a,{"key":"main"}));case r.init:for(var t in e.isReady=!0,a.main)e[t]=a.main[t];return e;case r.clean:for(var o in g)e[o]=g[o];return e}})}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,a){try{var o=t[r](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){step("next",e)},function(e){step("throw",e)});e(s)}("next")})}}var A=function(e){var t={"action":Object(u.a)(m)(e),"init":function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function _callee(n,a,o){return regeneratorRuntime.wrap(function _callee$(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.loadReducer();case 2:return e({"type":r.init,"payload":{"main":{"aroundAddressList":[],"addressId":n,"lat":a,"lng":o}}}),s.next=5,t.action.initMap();case 5:case"end":return s.stop()}},_callee,this)}));return function init(e,t,r){return n.apply(this,arguments)}}(),"clean":function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.unloadReducer();case 2:e({"type":r.clean});case 3:case"end":return n.stop()}},_callee2,this)}));return function clean(){return n.apply(this,arguments)}}(),"loadReducer":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:l.d({"packageACustomerAddressMapMain":main_main});case 1:case"end":return e.stop()}},_callee3,this)}));return function loadReducer(){return e.apply(this,arguments)}}(),"unloadReducer":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:l.b?l.b(["packageACustomerAddressMapMain"]):console.error("请在redux/store中实现deregister逻辑. ");case 1:case"end":return e.stop()}},_callee4,this)}));return function unloadReducer(){return e.apply(this,arguments)}}()};return{"actions":t}};function store2Props(e){return{"main":e.packageACustomerAddressMapMain}}var b=n(278),w=n(279),_=(n(1422),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var P=function(e){function AddressMap(e){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AddressMap),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AddressMap.__proto__||Object.getPrototypeOf(AddressMap)).call(this,e))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AddressMap,i["a"].Component),_(AddressMap,[{"key":"render","value":function render(){var e=this.props,t=e.main,r=e.localKey,o=e.mode,i=e.actions.action;return a.l.createElement(s.a,null,a.l.createElement(s.a,{"className":"map-search"},a.l.createElement(b.a,{"className":"search-icon","src":n(1424)}),a.l.createElement("input",{"type":"text","id":"suggestId","placeholder":"搜索地址","className":"map_keyword"}),a.l.createElement(s.a,{"id":"searchResultPanel","className":"search-result"})),a.l.createElement(s.a,{"id":"container","className":"container"}),a.l.createElement(s.a,{"className":"result"},t&&t.aroundAddressList&&t.aroundAddressList.map(function(e,t){return a.l.createElement(s.a,{"className":"result-item","key":t,"onClick":function onClick(){return i.chooseAddress(e,r,o)}},a.l.createElement(s.a,{"className":"result-name"},a.l.createElement(w.a,{"className":"arround_address_name"},e.name),a.l.createElement(w.a,{"className":"arround_address"},e.distance,"米")),a.l.createElement(s.a,null,a.l.createElement(w.a,{"className":"arround_address"},e.addr)))})))}}]),AddressMap}(),C=P=Object(o.a)([Object(c.b)(store2Props,A)],P),M=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),k=function get(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:get(a,t,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0};var x=function(e){function PackageACustomerAddressMap(){return function address_map_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PackageACustomerAddressMap),function address_map_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(PackageACustomerAddressMap.__proto__||Object.getPrototypeOf(PackageACustomerAddressMap)).apply(this,arguments))}return function address_map_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(PackageACustomerAddressMap,i["a"].Component),M(PackageACustomerAddressMap,[{"key":"componentWillMount","value":function(){var e=function address_map_asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,a){try{var o=t[r](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){step("next",e)},function(e){step("throw",e)});e(s)}("next")})}}(regeneratorRuntime.mark(function _callee(){var e,t,n;return regeneratorRuntime.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return e=this.$router.params.addressId,t=this.$router.params.lat,n=this.$router.params.lng,r.next=5,this.props.actions.init(e,t,n);case 5:case"end":return r.stop()}},_callee,this)}));return function componentWillMount(){return e.apply(this,arguments)}}()},{"key":"componentWillUnmount","value":function componentWillUnmount(){this.props.actions.clean()}},{"key":"render","value":function render(){var e=this.props,t=(e.actions.action,e.main,this.$router.params),n=t.localKey,r=t.mode;return a.l.createElement(s.a,{"className":"packageACustomerAddressMap"},a.l.createElement(C,{"localKey":n,"mode":r}))}},{"key":"componentDidMount","value":function componentDidMount(){k(PackageACustomerAddressMap.prototype.__proto__||Object.getPrototypeOf(PackageACustomerAddressMap.prototype),"componentDidMount",this)&&k(PackageACustomerAddressMap.prototype.__proto__||Object.getPrototypeOf(PackageACustomerAddressMap.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){k(PackageACustomerAddressMap.prototype.__proto__||Object.getPrototypeOf(PackageACustomerAddressMap.prototype),"componentDidShow",this)&&k(PackageACustomerAddressMap.prototype.__proto__||Object.getPrototypeOf(PackageACustomerAddressMap.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){k(PackageACustomerAddressMap.prototype.__proto__||Object.getPrototypeOf(PackageACustomerAddressMap.prototype),"componentDidHide",this)&&k(PackageACustomerAddressMap.prototype.__proto__||Object.getPrototypeOf(PackageACustomerAddressMap.prototype),"componentDidHide",this).call(this)}}]),PackageACustomerAddressMap}();x=Object(o.a)([Object(c.b)(store2Props,A)],x);t.default=x}}]);