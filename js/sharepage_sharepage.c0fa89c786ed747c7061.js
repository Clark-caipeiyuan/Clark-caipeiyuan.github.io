(window.webpackJsonp=window.webpackJsonp||[]).push([[222],{"2632":function(e,t,o){"use strict";o.r(t),o.d(t,"default",function(){return g});var n=o(5),r=o(2631),i=o(14),a=o(3),c=o(11),s=o(9),p=o(7),u=o(4),d=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),l=function get(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,o)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(o):void 0};var g=function(e){function SharePage(){var e=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SharePage);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(SharePage.__proto__||Object.getPrototypeOf(SharePage)).apply(this,arguments));return t.config={"navigationBarTitleText":"分享页面"},t._init=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,o){return function step(n,r){try{var i=t[n](r),a=i.value}catch(e){return void o(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}("next")})}}(regeneratorRuntime.mark(function _callee(){var o,n,r,d,l,g,f,h,b,O,_,x,y,P;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(Object(i.c)(),o=t.$router.params,n=o.scene,r=decodeURIComponent(n),console.log("decodeURI","/"===r),"/"===r&&a.a.navigateTo({"url":"/pages/index/index"}),r&&32==r.length&&a.a.redirectTo({"url":"/pages/package-B/goods/goods-details/index?skuId="+r}),r&&r.indexOf("store-main")>-1&&a.a.redirectTo({"url":"/pages/package-A/store/store-main/index?storeId="+r.split("/")[2]}),!(n&&n.indexOf("FX")>-1)){e.next=60;break}return e.next=11,Object(c.g)(u.c.CHANNEL_TYPE,"");case 11:return e.next=13,Object(c.g)(u.c.INVITEE_ID,"");case 13:return d=n.substring(2),e.prev=14,e.next=17,s.a.distributionMiniProgramController.getSkuQrCode(d);case 17:if(!((l=e.sent).indexOf("shop-index-c")>-1)){e.next=25;break}return g=l.split("/")[2],e.next=22,Object(c.g)(u.c.INVITEE_ID,g);case 22:return e.next=24,Object(c.g)(u.c.CHANNEL_TYPE,"2");case 24:a.a.redirectTo({"url":"/pages/package-B/distribution/store/social-c/shop-index-c/index?inviteeId="+g});case 25:if(!(l.indexOf("register")>-1)){e.next=32;break}return f=p.g.searchToObj(l.split("?")[1].padStart(l.split("?")[1].length+1,"?")).inviteeId,e.next=29,Object(c.g)(u.c.INVITEE_ID,f);case 29:return e.next=31,Object(c.g)(u.c.CHANNEL_TYPE,"2");case 31:a.a.redirectTo({"url":"/pages/package-A/login/register/index?inviteeId="+f});case 32:if(!(l.indexOf("/shop-index/goods-detail")>-1)){e.next=41;break}return h=l.split("/")[3],b=l.split("/")[4],O=l.split("/")[5].split("?")[0],e.next=38,Object(c.g)(u.c.INVITEE_ID,h);case 38:return e.next=40,Object(c.g)(u.c.CHANNEL_TYPE,"2");case 40:a.a.redirectTo({"url":"/pages/package-B/distribution/shop/socia-details/index?id="+h+"&goodsId="+b+"&skuId="+O});case 41:if(!(l.indexOf("/goods-detail")>-1&&-1==l.indexOf("/shop-index/goods-detail"))){e.next=53;break}return _=(_=(_=l.split("?")[1]).split("&")[0]).split("=")[1],x=p.g.searchToObj(l).inviteeId,p.g.searchToObj(l).channel,e.next=49,Object(c.g)(u.c.INVITEE_ID,x);case 49:return e.next=51,Object(c.g)(u.c.CHANNEL_TYPE,"1");case 51:(y=p.g.searchToObj(l).pointsGoodsId)?a.a.redirectTo({"url":"/pages/package-B/goods/goods-details/index?skuId="+_+"&pointsGoodsId="+y}):a.a.redirectTo({"url":"/pages/package-B/goods/goods-details/index?skuId="+_+"&inviteeId="+x});case 53:Object(i.a)(),e.next=60;break;case 56:e.prev=56,e.t0=e.catch(14),Object(i.e)({"title":"识别码出错，该码已经失效！","icon":"none","duration":2e3}),Object(i.a)();case 60:if(!(n&&n.indexOf("TF")>-1)){e.next=73;break}return e.prev=61,e.next=64,s.a.distributionMiniProgramController.getSkuQrCode(n);case 64:P=e.sent,a.a.redirectTo({"url":"/pages/package-B/x-site/page-link/index"+P}),Object(i.a)(),e.next=73;break;case 69:e.prev=69,e.t1=e.catch(61),Object(i.e)({"title":"识别码出错，该码已经失效！","icon":"none","duration":2e3}),Object(i.a)();case 73:n&&n.indexOf("G")>-1&&(a.a.redirectTo({"url":"/pages/package-B/groupon/group-buy-detail/index?grouponId="+n}),Object(i.a)());case 74:case"end":return e.stop()}},_callee,e,[[14,56],[61,69]])})),t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(SharePage,a["a"].Component),d(SharePage,[{"key":"componentWillMount","value":function componentWillMount(){this._init()}},{"key":"render","value":function render(){return n.l.createElement(r.a,null)}},{"key":"componentDidMount","value":function componentDidMount(){l(SharePage.prototype.__proto__||Object.getPrototypeOf(SharePage.prototype),"componentDidMount",this)&&l(SharePage.prototype.__proto__||Object.getPrototypeOf(SharePage.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){l(SharePage.prototype.__proto__||Object.getPrototypeOf(SharePage.prototype),"componentDidShow",this)&&l(SharePage.prototype.__proto__||Object.getPrototypeOf(SharePage.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){l(SharePage.prototype.__proto__||Object.getPrototypeOf(SharePage.prototype),"componentDidHide",this)&&l(SharePage.prototype.__proto__||Object.getPrototypeOf(SharePage.prototype),"componentDidHide",this).call(this)}}]),SharePage}()}}]);